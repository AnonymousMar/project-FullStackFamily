{"mappings":"YAAA,IAAMA,EAAaC,SAASC,cAAc,kBACpCC,EAAkBF,SAASC,cAAc,mBACzCE,EAAOH,SAASC,cAAc,mBAG3BG,MAAM,2DACVC,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAQjBL,MAAK,SAACM,GAaX,IACQC,EAbFC,QAAQC,IAAIH,GAaVC,EAZcD,EAajBI,KAAI,SAAAC,G,IAAEC,EAASD,EAATC,UACL,MAAO,mEAEiDC,OAAVD,EAAU,kC,IAIzDE,KAAK,IACRpB,EAAWqB,UAAYR,C,IAnBlBS,OAAM,SAACC,GACRT,QAAQC,IAAIQ,GACZC,W,IAEDC,SAAQ,WAAM,IAkBnBzB,EAAW0B,iBAAiB,SAE5B,SAA0BC,GACxB,IAAIC,EAAWD,EAAIE,OAAOC,YAC1B1B,EAAKiB,UAAYO,EAanB,SAAuBA,GACrB,OAAOvB,MAAM,+DAAwEc,OAATS,IACzEtB,MAAK,SAAAC,GACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAlBpBoB,CAAcH,GACXtB,MAAK,SAAC0B,GAqBX,IACQnB,EArBFC,QAAQC,IAAIiB,GAqBVnB,EApBUmB,EAqBbhB,KAAI,SAAAC,G,IAAEgB,EAAUhB,EAAVgB,WAAYC,EAAMjB,EAANiB,OAAQC,EAAKlB,EAALkB,MACzB,MAAO,sDAEyBhB,OAApBc,EAAW,WAElBd,OAF2BgB,EAAM,mEAG/BhB,OADFgB,EAAM,qBACGhB,OAAPe,EAAO,+C,IAKfd,KAAK,IACRjB,EAAgBkB,UAAYR,C,IAhCvBS,OAAM,SAACC,GACRT,QAAQC,IAAIQ,GACZC,W,IAEDC,SAAQ,WAAM,G","sources":["src/category.js"],"sourcesContent":["const categoryEl = document.querySelector('.category-list');\nconst booksCategoryEl = document.querySelector('.books-category');\nconst h1El = document.querySelector('.title-category')\n\nfunction fetchCategorys() {\n  return fetch(\"https://books-backend.p.goit.global/books/category-list\")\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n}\n\naddCategorys();\n\nfunction addCategorys() {\n  fetchCategorys()\n    .then((categorys) => {\n      console.log(categorys);\n      renderCategorys(categorys);\n\n    }).catch((error) => {\n      console.log(error);\n      errorShow();\n    })\n    .finally(() => {\n\n    });\n};\n\nfunction renderCategorys(arr) {\n  const markup = arr\n    .map(({list_name}) => {\n      return `\n      <li>\n                <a href=\"#\" class=\"category-link\">${list_name}</a>\n            </li>\n      `;\n    })\n    .join(\"\");\n  categoryEl.innerHTML = markup;\n}\n\ncategoryEl.addEventListener('click', onSelectCategory);\n\nfunction onSelectCategory(evt) {\n  let category = evt.target.textContent;\n  h1El.innerHTML = category;\n  fetchCategory(category)\n    .then((books) => {\n      console.log(books);\n      renderBooks(books)\n    }).catch((error) => {\n      console.log(error);\n      errorShow();\n    })\n    .finally(() => {\n    });\n}\n\nfunction fetchCategory(category) {\n  return fetch(`https://books-backend.p.goit.global/books/category?category=${category}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n}\n\nfunction renderBooks(arr) {\n  const markup = arr\n    .map(({book_image, author, title}) => {\n      return `\n      <div class=\"book-carts\"> \n      <img src=\"${book_image}\" alt=\"${title}\" class=\"book-img\">\n      <div class=\"book-title\"> \n      <p>${title}</p>\n        <p>${author}</p>\n        </div>\n        </div>\n      `;\n    })\n    .join(\"\");\n  booksCategoryEl.innerHTML = markup;\n}"],"names":["$c485124ac8f38e40$var$categoryEl","document","querySelector","$c485124ac8f38e40$var$booksCategoryEl","$c485124ac8f38e40$var$h1El","fetch","then","response","ok","Error","status","json","categorys","markup","console","log","map","param","list_name","concat","join","innerHTML","catch","error","errorShow","finally","addEventListener","evt","category","target","textContent","$c485124ac8f38e40$var$fetchCategory","books","book_image","author","title"],"version":3,"file":"index.abe7f1d9.js.map"}